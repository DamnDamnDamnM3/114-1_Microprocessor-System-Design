# Lab 1 - ARM 組合語言程式設計

## 實驗概述
本實驗使用ARM Cortex-M0微處理器的組合語言，實作三個不同的數學運算程式。所有程式都使用Thumb指令集，並遵循Cortex-M0的暫存器使用規範。

## 硬體環境
- **微處理器**: ARM Cortex-M0
- **指令集**: Thumb-1
- **暫存器限制**: 只使用R0-R7暫存器
- **記憶體**: 唯讀程式碼區域和唯讀資料區域

## 程式檔案說明

### Q1.s - 陣列元素平方和計算
**功能**: 計算陣列中所有元素的平方和

**演算法**:
1. 初始化陣列指標和計數器
2. 使用迴圈遍歷陣列
3. 對每個元素計算平方值
4. 累加所有平方值
5. 將結果存入R4暫存器

**關鍵指令**:
- `LDR`: 載入記憶體資料
- `MULS`: 乘法運算
- `ADDS`: 加法運算
- `SUBS`: 減法運算
- `BNE`: 條件分支

**測試資料**: `[2, 4, 7, 3, 1, 2, 10, 11, 5, 13]`
**預期結果**: `2² + 4² + 7² + 3² + 1² + 2² + 10² + 11² + 5² + 13² = 4 + 16 + 49 + 9 + 1 + 4 + 100 + 121 + 25 + 169 = 498`

### Q2.s - 日期比較程式
**功能**: 比較兩個日期的先後順序

**演算法**:
1. 預設結果為-1（表示不早於）
2. 比較年份：如果date1年份 < date2年份，設為1（早於）
3. 年份相同時比較月份
4. 月份相同時比較日期
5. 返回比較結果

**日期格式**:
- Date1: 2014年12月31日
- Date2: 2013年1月20日

**返回值**:
- `1`: date1早於date2
- `-1`: date1不早於date2（等於或晚於）

### Q3.s - 反向乘積計算
**功能**: 計算兩個陣列的反向乘積和

**數學公式**: `result = a1×bn + a2×b(n-1) + ... + an×b1`

**演算法**:
1. 初始化A陣列指標（從頭開始）
2. 初始化B陣列指標（從尾開始）
3. 使用重複加法實作乘法運算
4. 計算每對元素的乘積
5. 累加所有乘積

**測試資料**:
- A陣列: `[1, 2, 3, 4, 5, 6, 7, 8]`
- B陣列: `[9, 10, 11, 12, 13, 14, 15, 16]`

**計算過程**:
```
1×16 + 2×15 + 3×14 + 4×13 + 5×12 + 6×11 + 7×10 + 8×9
= 16 + 30 + 42 + 52 + 60 + 66 + 70 + 72
= 408
```

## 程式設計重點

### 記憶體管理
- 使用`AREA`指令定義程式碼和資料區域
- 資料區域使用`READONLY`屬性保護資料完整性
- 使用`ALIGN`指令確保記憶體對齊

### 暫存器使用
- **R0**: 陣列指標或函數參數
- **R1**: 計數器或比較值
- **R2**: 臨時計算暫存器
- **R3**: 累加器
- **R4**: 最終結果
- **R5-R7**: 輔助計算暫存器

### 指令集特點
- 使用Thumb-1指令集，指令長度固定為16位元
- 所有算術指令都會更新狀態暫存器
- 條件分支指令提供程式流程控制

## 編譯與執行
1. 使用ARM組譯器編譯`.s`檔案
2. 連結產生可執行檔
3. 載入到Cortex-M0開發板
4. 使用除錯器觀察暫存器值和執行流程

## 學習目標
- 掌握ARM組合語言基本語法
- 理解Cortex-M0架構特點
- 學習記憶體管理和暫存器使用
- 實作基本數學運算演算法
- 培養低階程式設計能力

## 注意事項
- 所有程式都使用無限迴圈結束，適合嵌入式系統
- 使用`BKPT`指令在除錯器中停止執行
- 遵循Cortex-M0的暫存器使用規範
- 確保記憶體對齊以獲得最佳效能
